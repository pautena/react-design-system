import{r as l,a as oe,j as w}from"./iframe-CyC2w49y.js";import{a as re,g as se,c as G}from"./generateUtilityClasses-DiH4kTrr.js";import{s as V,a as ie,m as me}from"./memoTheme-D8ZqR_KA.js";import{o as $}from"./ownerWindow-HkKU3E4x.js";import{o as O}from"./ownerDocument-DW-IO8s5.js";import{u as ae}from"./createSimplePaletteValueFilter-DpK-1nce.js";import{u as Z}from"./Typography-CyoT5iG8.js";import{u as z,e as be}from"./useSlot-Cmez1d-s.js";import{P as he}from"./Portal-rUAWzwmj.js";import{g as ge}from"./Grow--wL55YRT.js";import{F as xe}from"./Fade-CgEVAOb-.js";function _(...e){return e.reduce((t,o)=>o==null?t:function(...s){t.apply(this,s),o.apply(this,s)},()=>{})}function Ee(e){return re("MuiBackdrop",e)}se("MuiBackdrop",["root","invisible"]);const Re=e=>{const{classes:t,invisible:o}=e;return ie({root:["root",o&&"invisible"]},Ee,t)},ye=V("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Te=l.forwardRef(function(t,o){const n=oe({props:t,name:"MuiBackdrop"}),{children:s,className:r,component:i="div",invisible:a=!1,open:f,components:g={},componentsProps:T={},slotProps:b={},slots:E={},TransitionComponent:m,transitionDuration:u,...M}=n,R={...n,component:i,invisible:a},v=Re(R),y={transition:m,root:g.Root,...E},c={...T,...b},h={slots:y,slotProps:c},[P,N]=z("root",{elementType:ye,externalForwardedProps:h,className:G(v.root,r),ownerState:R}),[x,C]=z("transition",{elementType:xe,externalForwardedProps:h,ownerState:R});return w.jsx(x,{in:f,timeout:u,...M,...C,children:w.jsx(P,{"aria-hidden":!0,...N,classes:v,ref:o,children:s})})});function ve(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Pe(e){const t=O(e);return t.body===e?$(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function j(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ee(e){return parseInt($(e).getComputedStyle(e).paddingRight,10)||0}function ke(e){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||n}function te(e,t,o,n,s){const r=[t,o,...n];[].forEach.call(e.children,i=>{const a=!r.includes(i),f=!ke(i);a&&f&&j(i,s)})}function q(e,t){let o=-1;return e.some((n,s)=>t(n)?(o=s,!0):!1),o}function Ce(e,t){const o=[],n=e.container;if(!t.disableScrollLock){if(Pe(n)){const i=ve($(n));o.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${ee(n)+i}px`;const a=O(n).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{o.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${ee(f)+i}px`})}let r;if(n.parentNode instanceof DocumentFragment)r=O(n).body;else{const i=n.parentElement,a=$(n);r=(i==null?void 0:i.nodeName)==="HTML"&&a.getComputedStyle(i).overflowY==="scroll"?i:n}o.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{o.forEach(({value:r,el:i,property:a})=>{r?i.style.setProperty(a,r):i.style.removeProperty(a)})}}function Ie(e){const t=[];return[].forEach.call(e.children,o=>{o.getAttribute("aria-hidden")==="true"&&t.push(o)}),t}class Se{constructor(){this.modals=[],this.containers=[]}add(t,o){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&j(t.modalRef,!1);const s=Ie(o);te(o,t.mount,t.modalRef,s,!0);const r=q(this.containers,i=>i.container===o);return r!==-1?(this.containers[r].modals.push(t),n):(this.containers.push({modals:[t],container:o,restore:null,hiddenSiblings:s}),n)}mount(t,o){const n=q(this.containers,r=>r.modals.includes(t)),s=this.containers[n];s.restore||(s.restore=Ce(s,o))}remove(t,o=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const s=q(this.containers,i=>i.modals.includes(t)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(n,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&j(t.modalRef,o),te(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const i=r.modals[r.modals.length-1];i.modalRef&&j(i.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const we=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Me(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Ne(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let o=t(`[name="${e.name}"]:checked`);return o||(o=t(`[name="${e.name}"]`)),o!==e}function Fe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Ne(e))}function Ae(e){const t=[],o=[];return Array.from(e.querySelectorAll(we)).forEach((n,s)=>{const r=Me(n);r===-1||!Fe(n)||(r===0?t.push(n):o.push({documentOrder:s,tabIndex:r,node:n}))}),o.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(t)}function Oe(){return!0}function Be(e){const{children:t,disableAutoFocus:o=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:r=Ae,isEnabled:i=Oe,open:a}=e,f=l.useRef(!1),g=l.useRef(null),T=l.useRef(null),b=l.useRef(null),E=l.useRef(null),m=l.useRef(!1),u=l.useRef(null),M=ae(ge(t),u),R=l.useRef(null);l.useEffect(()=>{!a||!u.current||(m.current=!o)},[o,a]),l.useEffect(()=>{if(!a||!u.current)return;const c=O(u.current);return u.current.contains(c.activeElement)||(u.current.hasAttribute("tabIndex")||u.current.setAttribute("tabIndex","-1"),m.current&&u.current.focus()),()=>{s||(b.current&&b.current.focus&&(f.current=!0,b.current.focus()),b.current=null)}},[a]),l.useEffect(()=>{if(!a||!u.current)return;const c=O(u.current),h=x=>{R.current=x,!(n||!i()||x.key!=="Tab")&&c.activeElement===u.current&&x.shiftKey&&(f.current=!0,T.current&&T.current.focus())},P=()=>{var k,A;const x=u.current;if(x===null)return;if(!c.hasFocus()||!i()||f.current){f.current=!1;return}if(x.contains(c.activeElement)||n&&c.activeElement!==g.current&&c.activeElement!==T.current)return;if(c.activeElement!==E.current)E.current=null;else if(E.current!==null)return;if(!m.current)return;let C=[];if((c.activeElement===g.current||c.activeElement===T.current)&&(C=r(u.current)),C.length>0){const B=!!((k=R.current)!=null&&k.shiftKey&&((A=R.current)==null?void 0:A.key)==="Tab"),U=C[0],D=C[C.length-1];typeof U!="string"&&typeof D!="string"&&(B?D.focus():U.focus())}else x.focus()};c.addEventListener("focusin",P),c.addEventListener("keydown",h,!0);const N=setInterval(()=>{c.activeElement&&c.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(N),c.removeEventListener("focusin",P),c.removeEventListener("keydown",h,!0)}},[o,n,s,i,a,r]);const v=c=>{b.current===null&&(b.current=c.relatedTarget),m.current=!0,E.current=c.target;const h=t.props.onFocus;h&&h(c)},y=c=>{b.current===null&&(b.current=c.relatedTarget),m.current=!0};return w.jsxs(l.Fragment,{children:[w.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:g,"data-testid":"sentinelStart"}),l.cloneElement(t,{ref:M,onFocus:v}),w.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:T,"data-testid":"sentinelEnd"})]})}function De(e){return typeof e=="function"?e():e}function Le(e){return e?e.props.hasOwnProperty("in"):!1}const ne=()=>{},W=new Se;function je(e){const{container:t,disableEscapeKeyDown:o=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:i,children:a,onClose:f,open:g,rootRef:T}=e,b=l.useRef({}),E=l.useRef(null),m=l.useRef(null),u=ae(m,T),[M,R]=l.useState(!g),v=Le(a);let y=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(y=!1);const c=()=>O(E.current),h=()=>(b.current.modalRef=m.current,b.current.mount=E.current,b.current),P=()=>{W.mount(h(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},N=Z(()=>{const p=De(t)||c().body;W.add(h(),p),m.current&&P()}),x=()=>W.isTopModal(h()),C=Z(p=>{E.current=p,p&&(g&&x()?P():m.current&&j(m.current,y))}),k=l.useCallback(()=>{W.remove(h(),y)},[y]);l.useEffect(()=>()=>{k()},[k]),l.useEffect(()=>{g?N():(!v||!s)&&k()},[g,k,v,s,N]);const A=p=>d=>{var I;(I=p.onKeyDown)==null||I.call(p,d),!(d.key!=="Escape"||d.which===229||!x())&&(o||(d.stopPropagation(),f&&f(d,"escapeKeyDown")))},B=p=>d=>{var I;(I=p.onClick)==null||I.call(p,d),d.target===d.currentTarget&&f&&f(d,"backdropClick")};return{getRootProps:(p={})=>{const d=be(e);delete d.onTransitionEnter,delete d.onTransitionExited;const I={...d,...p};return{role:"presentation",...I,onKeyDown:A(I),ref:u}},getBackdropProps:(p={})=>{const d=p;return{"aria-hidden":!0,...d,onClick:B(d),open:g}},getTransitionProps:()=>{const p=()=>{R(!1),r&&r()},d=()=>{R(!0),i&&i(),s&&k()};return{onEnter:_(p,(a==null?void 0:a.props.onEnter)??ne),onExited:_(d,(a==null?void 0:a.props.onExited)??ne)}},rootRef:u,portalRef:C,isTopModal:x,exited:M,hasTransition:v}}function Ue(e){return re("MuiModal",e)}se("MuiModal",["root","hidden","backdrop"]);const Ke=e=>{const{open:t,exited:o,classes:n}=e;return ie({root:["root",!t&&o&&"hidden"],backdrop:["backdrop"]},Ue,n)},We=V("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.open&&o.exited&&t.hidden]}})(me(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),$e=V(Te,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),et=l.forwardRef(function(t,o){const n=oe({name:"MuiModal",props:t}),{BackdropComponent:s=$e,BackdropProps:r,classes:i,className:a,closeAfterTransition:f=!1,children:g,container:T,component:b,components:E={},componentsProps:m={},disableAutoFocus:u=!1,disableEnforceFocus:M=!1,disableEscapeKeyDown:R=!1,disablePortal:v=!1,disableRestoreFocus:y=!1,disableScrollLock:c=!1,hideBackdrop:h=!1,keepMounted:P=!1,onClose:N,onTransitionEnter:x,onTransitionExited:C,open:k,slotProps:A={},slots:B={},theme:U,...D}=n,H={...n,closeAfterTransition:f,disableAutoFocus:u,disableEnforceFocus:M,disableEscapeKeyDown:R,disablePortal:v,disableRestoreFocus:y,disableScrollLock:c,hideBackdrop:h,keepMounted:P},{getRootProps:p,getBackdropProps:d,getTransitionProps:I,portalRef:ce,isTopModal:le,exited:X,hasTransition:J}=je({...H,rootRef:o}),L={...H,exited:X},S=Ke(L),K={};if(g.props.tabIndex===void 0&&(K.tabIndex="-1"),J){const{onEnter:F,onExited:Y}=I();K.onEnter=F,K.onExited=Y}const Q={slots:{root:E.Root,backdrop:E.Backdrop,...B},slotProps:{...m,...A}},[ue,de]=z("root",{ref:o,elementType:We,externalForwardedProps:{...Q,...D,component:b},getSlotProps:p,ownerState:L,className:G(a,S==null?void 0:S.root,!L.open&&L.exited&&(S==null?void 0:S.hidden))}),[fe,pe]=z("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:F=>d({...F,onClick:Y=>{F!=null&&F.onClick&&F.onClick(Y)}}),className:G(r==null?void 0:r.className,S==null?void 0:S.backdrop),ownerState:L});return!P&&!k&&(!J||X)?null:w.jsx(he,{ref:ce,container:T,disablePortal:v,children:w.jsxs(ue,{...de,children:[!h&&s?w.jsx(fe,{...pe}):null,w.jsx(Be,{disableEnforceFocus:M,disableAutoFocus:u,disableRestoreFocus:y,isEnabled:le,open:k,children:l.cloneElement(g,K)})]})})});export{Te as B,Be as F,et as M,ve as g};
