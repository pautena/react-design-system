import{r as p}from"./index-CFahbR6w.js";import{c as x,a as yo,g as go}from"./identifier-ChVxdG4r.js";import{i as vo}from"./isHostComponent-DVu5iVWx.js";import{o as K,u as k}from"./useSlot-HZ3RMWsh.js";import{j as z}from"./jsx-runtime-D_zvdyIk.js";import{u as bo,s as S,a as Eo}from"./memoTheme-kZCwlU27.js";import{o as Q}from"./ownerWindow-DJIq4c2v.js";import{d as wo}from"./debounce-Be36O1Ab.js";import{G as Co}from"./Grow-DSkAUVrm.js";import{M as To}from"./Modal-QJZQr9Mv.js";import{P as Ro}from"./Paper-0PE78at3.js";function Ao(o,t){if(!o)return t;if(typeof o=="function"||typeof t=="function")return l=>{const n=typeof t=="function"?t(l):t,e=typeof o=="function"?o({...l,...n}):o,g=x(l==null?void 0:l.className,n==null?void 0:n.className,e==null?void 0:e.className);return{...n,...e,...!!g&&{className:g},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}};const i=t,y=x(i==null?void 0:i.className,o==null?void 0:o.className);return{...t,...o,...!!y&&{className:y},...(i==null?void 0:i.style)&&(o==null?void 0:o.style)&&{style:{...i.style,...o.style}},...(i==null?void 0:i.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}}function Oo(o){return yo("MuiPopover",o)}go("MuiPopover",["root","paper"]);function Z(o,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=o.height/2:t==="bottom"&&(i=o.height),i}function _(o,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=o.width/2:t==="right"&&(i=o.width),i}function V(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function N(o){return typeof o=="function"?o():o}const ko=o=>{const{classes:t}=o;return Eo({root:["root"],paper:["paper"]},Oo,t)},zo=S(To,{name:"MuiPopover",slot:"Root",overridesResolver:(o,t)=>t.root})({}),No=S(Ro,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Io=p.forwardRef(function(t,i){const y=bo({props:t,name:"MuiPopover"}),{action:l,anchorEl:n,anchorOrigin:e={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:v="anchorEl",children:oo,className:to,container:so,elevation:M=8,marginThreshold:a=16,open:u,PaperProps:io={},slots:P={},slotProps:C={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:W,transitionDuration:T="auto",TransitionProps:j={},disableScrollLock:R=!1,...no}=y,A=p.useRef(),E={...y,anchorOrigin:e,anchorReference:v,elevation:M,marginThreshold:a,transformOrigin:b,TransitionComponent:W,transitionDuration:T,TransitionProps:j},H=ko(E),L=p.useCallback(()=>{if(v==="anchorPosition")return g;const s=N(n),r=(s&&s.nodeType===1?s:K(A.current).body).getBoundingClientRect();return{top:r.top+Z(r,e.vertical),left:r.left+_(r,e.horizontal)}},[n,e.horizontal,e.vertical,g,v]),F=p.useCallback(s=>({vertical:Z(s,b.vertical),horizontal:_(s,b.horizontal)}),[b.horizontal,b.vertical]),U=p.useCallback(s=>{const c={width:s.offsetWidth,height:s.offsetHeight},r=F(c);if(v==="none")return{top:null,left:null,transformOrigin:V(r)};const w=L();let d=w.top-r.vertical,h=w.left-r.horizontal;const D=d+c.height,X=h+c.width,Y=Q(N(n)),q=Y.innerHeight-a,J=Y.innerWidth-a;if(a!==null&&d<a){const f=d-a;d-=f,r.vertical+=f}else if(a!==null&&D>q){const f=D-q;d-=f,r.vertical+=f}if(a!==null&&h<a){const f=h-a;h-=f,r.horizontal+=f}else if(X>J){const f=X-J;h-=f,r.horizontal+=f}return{top:`${Math.round(d)}px`,left:`${Math.round(h)}px`,transformOrigin:V(r)}},[n,v,L,F,a]),[eo,$]=p.useState(u),m=p.useCallback(()=>{const s=A.current;if(!s)return;const c=U(s);c.top!==null&&s.style.setProperty("top",c.top),c.left!==null&&(s.style.left=c.left),s.style.transformOrigin=c.transformOrigin,$(!0)},[U]);p.useEffect(()=>(R&&window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)),[n,R,m]);const ro=()=>{m()},co=()=>{$(!1)};p.useEffect(()=>{u&&m()}),p.useImperativeHandle(l,()=>u?{updatePosition:()=>{m()}}:null,[u,m]),p.useEffect(()=>{if(!u)return;const s=wo(()=>{m()}),c=Q(n);return c.addEventListener("resize",s),()=>{s.clear(),c.removeEventListener("resize",s)}},[n,u,m]);let G=T;const O={slots:{transition:W,...P},slotProps:{transition:j,paper:io,...C}},[I,ao]=k("transition",{elementType:Co,externalForwardedProps:O,ownerState:E,getSlotProps:s=>({...s,onEntering:(c,r)=>{var w;(w=s.onEntering)==null||w.call(s,c,r),ro()},onExited:c=>{var r;(r=s.onExited)==null||r.call(s,c),co()}}),additionalProps:{appear:!0,in:u}});T==="auto"&&!I.muiSupportAuto&&(G=void 0);const fo=so||(n?K(N(n)).body:void 0),[B,{slots:po,slotProps:mo,...uo}]=k("root",{ref:i,elementType:zo,externalForwardedProps:{...O,...no},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:P.backdrop},slotProps:{backdrop:Ao(typeof C.backdrop=="function"?C.backdrop(E):C.backdrop,{invisible:!0})},container:fo,open:u},ownerState:E,className:x(H.root,to)}),[lo,ho]=k("paper",{ref:A,className:H.paper,elementType:No,externalForwardedProps:O,shouldForwardComponentProp:!0,additionalProps:{elevation:M,style:eo?void 0:{opacity:0}},ownerState:E});return z.jsx(B,{...uo,...!vo(B)&&{slots:po,slotProps:mo,disableScrollLock:R},children:z.jsx(I,{...ao,timeout:G,children:z.jsx(lo,{...ho,children:oo})})})});export{No as P,Io as a,Ao as m};
