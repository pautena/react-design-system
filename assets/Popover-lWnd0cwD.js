import{r as d,a as go,j as x}from"./iframe-CyC2w49y.js";import{c as j,a as yo,g as vo}from"./generateUtilityClasses-DiH4kTrr.js";import{i as bo}from"./isHostComponent-DVu5iVWx.js";import{u as H}from"./useSlot-Cmez1d-s.js";import{o as Z}from"./ownerDocument-DW-IO8s5.js";import{o as _}from"./ownerWindow-HkKU3E4x.js";import{d as Eo}from"./debounce-Be36O1Ab.js";import{G as wo}from"./Grow--wL55YRT.js";import{s as to,a as Co}from"./memoTheme-D8ZqR_KA.js";import{M as To}from"./Modal-BG7KvuJi.js";import{P as Ao}from"./Paper-VpekSNGd.js";function Oo(o,t){const r=o.charCodeAt(2);return o[0]==="o"&&o[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function zo(o,t){if(!o)return t;function r(f,s){const i={};return Object.keys(s).forEach(m=>{Oo(m,s[m])&&typeof f[m]=="function"&&(i[m]=(...y)=>{f[m](...y),s[m](...y)})}),i}if(typeof o=="function"||typeof t=="function")return f=>{const s=typeof t=="function"?t(f):t,i=typeof o=="function"?o({...f,...s}):o,m=j(f==null?void 0:f.className,s==null?void 0:s.className,i==null?void 0:i.className),y=r(i,s);return{...s,...i,...y,...!!m&&{className:m},...(s==null?void 0:s.style)&&(i==null?void 0:i.style)&&{style:{...s.style,...i.style}},...(s==null?void 0:s.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}};const c=t,O=r(o,c),p=j(c==null?void 0:c.className,o==null?void 0:o.className);return{...t,...o,...O,...!!p&&{className:p},...(c==null?void 0:c.style)&&(o==null?void 0:o.style)&&{style:{...c.style,...o.style}},...(c==null?void 0:c.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}}function Ro(o){return yo("MuiPopover",o)}vo("MuiPopover",["root","paper"]);function V(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.height/2:t==="bottom"&&(r=o.height),r}function S(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.width/2:t==="right"&&(r=o.width),r}function oo(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function A(o){return typeof o=="function"?o():o}const No=o=>{const{classes:t}=o;return Co({root:["root"],paper:["paper"]},Ro,t)},Mo=to(To,{name:"MuiPopover",slot:"Root"})({}),xo=to(Ao,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Bo=d.forwardRef(function(t,r){const c=go({props:t,name:"MuiPopover"}),{action:O,anchorEl:p,anchorOrigin:f={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:i="anchorEl",children:m,className:y,container:no,elevation:W=8,marginThreshold:u=16,open:g,PaperProps:io={},slots:L={},slotProps:T={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:k,transitionDuration:z="auto",TransitionProps:F={},disableScrollLock:R=!1,...so}=c,N=d.useRef(),w={...c,anchorOrigin:f,anchorReference:i,elevation:W,marginThreshold:u,transformOrigin:E,TransitionComponent:k,transitionDuration:z,TransitionProps:F},P=No(w),U=d.useCallback(()=>{if(i==="anchorPosition")return s;const n=A(p),e=(n&&n.nodeType===1?n:Z(N.current).body).getBoundingClientRect();return{top:e.top+V(e,f.vertical),left:e.left+S(e,f.horizontal)}},[p,f.horizontal,f.vertical,s,i]),$=d.useCallback(n=>({vertical:V(n,E.vertical),horizontal:S(n,E.horizontal)}),[E.horizontal,E.vertical]),G=d.useCallback(n=>{const a={width:n.offsetWidth,height:n.offsetHeight},e=$(a);if(i==="none")return{top:null,left:null,transformOrigin:oo(e)};const C=U();let v=C.top-e.vertical,b=C.left-e.horizontal;const Y=v+a.height,q=b+a.width,J=_(A(p)),K=J.innerHeight-u,Q=J.innerWidth-u;if(u!==null&&v<u){const h=v-u;v-=h,e.vertical+=h}else if(u!==null&&Y>K){const h=Y-K;v-=h,e.vertical+=h}if(u!==null&&b<u){const h=b-u;b-=h,e.horizontal+=h}else if(q>Q){const h=q-Q;b-=h,e.horizontal+=h}return{top:`${Math.round(v)}px`,left:`${Math.round(b)}px`,transformOrigin:oo(e)}},[p,i,U,$,u]),[ro,I]=d.useState(g),l=d.useCallback(()=>{const n=N.current;if(!n)return;const a=G(n);a.top!==null&&n.style.setProperty("top",a.top),a.left!==null&&(n.style.left=a.left),n.style.transformOrigin=a.transformOrigin,I(!0)},[G]);d.useEffect(()=>(R&&window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)),[p,R,l]);const eo=()=>{l()},co=()=>{I(!1)};d.useEffect(()=>{g&&l()}),d.useImperativeHandle(O,()=>g?{updatePosition:()=>{l()}}:null,[g,l]),d.useEffect(()=>{if(!g)return;const n=Eo(()=>{l()}),a=_(A(p));return a.addEventListener("resize",n),()=>{n.clear(),a.removeEventListener("resize",n)}},[p,g,l]);let B=z;const M={slots:{transition:k,...L},slotProps:{transition:F,paper:io,...T}},[D,ao]=H("transition",{elementType:wo,externalForwardedProps:M,ownerState:w,getSlotProps:n=>({...n,onEntering:(a,e)=>{var C;(C=n.onEntering)==null||C.call(n,a,e),eo()},onExited:a=>{var e;(e=n.onExited)==null||e.call(n,a),co()}}),additionalProps:{appear:!0,in:g}});z==="auto"&&!D.muiSupportAuto&&(B=void 0);const fo=no||(p?Z(A(p)).body:void 0),[X,{slots:po,slotProps:mo,...uo}]=H("root",{ref:r,elementType:Mo,externalForwardedProps:{...M,...so},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:L.backdrop},slotProps:{backdrop:zo(typeof T.backdrop=="function"?T.backdrop(w):T.backdrop,{invisible:!0})},container:fo,open:g},ownerState:w,className:j(P.root,y)}),[ho,lo]=H("paper",{ref:N,className:P.paper,elementType:xo,externalForwardedProps:M,shouldForwardComponentProp:!0,additionalProps:{elevation:W,style:ro?void 0:{opacity:0}},ownerState:w});return x.jsx(X,{...uo,...!bo(X)&&{slots:po,slotProps:mo,disableScrollLock:R},children:x.jsx(D,{...ao,timeout:B,children:x.jsx(ho,{...lo,children:m})})})});export{Bo as P,xo as a,zo as m};
