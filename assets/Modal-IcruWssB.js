import{r as l}from"./index-CFahbR6w.js";import{a as oe,g as re,c as q}from"./generateUtilityClasses-D-SxHVPw.js";import{s as G,a as se,m as be}from"./memoTheme-DMhdsnBH.js";import{o as z}from"./ownerWindow-DTHMI0Ng.js";import{o as O,u as H}from"./useSlot-CxWRxdBG.js";import{u as ie}from"./createSimplePaletteValueFilter-BX9OVMun.js";import{u as Z}from"./Typography-kEBT9KOp.js";import{e as he}from"./resolveComponentProps-Cr8BEufl.js";import{j as M}from"./jsx-runtime-D_zvdyIk.js";import{u as ae}from"./DefaultPropsProvider-CoDhPOBZ.js";import{P as ge}from"./Portal-CFtUE-o1.js";import{g as xe}from"./Grow-DUOMFKMB.js";import{F as Ee}from"./Fade-DmsmEUfe.js";function _(...e){return e.reduce((t,o)=>o==null?t:function(...s){t.apply(this,s),o.apply(this,s)},()=>{})}function Re(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function ye(e){const t=O(e);return t.body===e?z(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function j(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ee(e){return parseInt(z(e).getComputedStyle(e).paddingRight,10)||0}function Te(e){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||n}function te(e,t,o,n,s){const r=[t,o,...n];[].forEach.call(e.children,i=>{const a=!r.includes(i),p=!Te(i);a&&p&&j(i,s)})}function Y(e,t){let o=-1;return e.some((n,s)=>t(n)?(o=s,!0):!1),o}function ve(e,t){const o=[],n=e.container;if(!t.disableScrollLock){if(ye(n)){const i=Re(z(n));o.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${ee(n)+i}px`;const a=O(n).querySelectorAll(".mui-fixed");[].forEach.call(a,p=>{o.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${ee(p)+i}px`})}let r;if(n.parentNode instanceof DocumentFragment)r=O(n).body;else{const i=n.parentElement,a=z(n);r=(i==null?void 0:i.nodeName)==="HTML"&&a.getComputedStyle(i).overflowY==="scroll"?i:n}o.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{o.forEach(({value:r,el:i,property:a})=>{r?i.style.setProperty(a,r):i.style.removeProperty(a)})}}function ke(e){const t=[];return[].forEach.call(e.children,o=>{o.getAttribute("aria-hidden")==="true"&&t.push(o)}),t}class Pe{constructor(){this.modals=[],this.containers=[]}add(t,o){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&j(t.modalRef,!1);const s=ke(o);te(o,t.mount,t.modalRef,s,!0);const r=Y(this.containers,i=>i.container===o);return r!==-1?(this.containers[r].modals.push(t),n):(this.containers.push({modals:[t],container:o,restore:null,hiddenSiblings:s}),n)}mount(t,o){const n=Y(this.containers,r=>r.modals.includes(t)),s=this.containers[n];s.restore||(s.restore=ve(s,o))}remove(t,o=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const s=Y(this.containers,i=>i.modals.includes(t)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(n,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&j(t.modalRef,o),te(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const i=r.modals[r.modals.length-1];i.modalRef&&j(i.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Ce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ie(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Se(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let o=t(`[name="${e.name}"]:checked`);return o||(o=t(`[name="${e.name}"]`)),o!==e}function we(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Se(e))}function Me(e){const t=[],o=[];return Array.from(e.querySelectorAll(Ce)).forEach((n,s)=>{const r=Ie(n);r===-1||!we(n)||(r===0?t.push(n):o.push({documentOrder:s,tabIndex:r,node:n}))}),o.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(t)}function Ne(){return!0}function Fe(e){const{children:t,disableAutoFocus:o=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:r=Me,isEnabled:i=Ne,open:a}=e,p=l.useRef(!1),g=l.useRef(null),T=l.useRef(null),b=l.useRef(null),E=l.useRef(null),m=l.useRef(!1),u=l.useRef(null),N=ie(xe(t),u),R=l.useRef(null);l.useEffect(()=>{!a||!u.current||(m.current=!o)},[o,a]),l.useEffect(()=>{if(!a||!u.current)return;const c=O(u.current);return u.current.contains(c.activeElement)||(u.current.hasAttribute("tabIndex")||u.current.setAttribute("tabIndex","-1"),m.current&&u.current.focus()),()=>{s||(b.current&&b.current.focus&&(p.current=!0,b.current.focus()),b.current=null)}},[a]),l.useEffect(()=>{if(!a||!u.current)return;const c=O(u.current),h=x=>{R.current=x,!(n||!i()||x.key!=="Tab")&&c.activeElement===u.current&&x.shiftKey&&(p.current=!0,T.current&&T.current.focus())},k=()=>{var S,F;const x=u.current;if(x===null)return;if(!c.hasFocus()||!i()||p.current){p.current=!1;return}if(x.contains(c.activeElement)||n&&c.activeElement!==g.current&&c.activeElement!==T.current)return;if(c.activeElement!==E.current)E.current=null;else if(E.current!==null)return;if(!m.current)return;let P=[];if((c.activeElement===g.current||c.activeElement===T.current)&&(P=r(u.current)),P.length>0){const B=!!((S=R.current)!=null&&S.shiftKey&&((F=R.current)==null?void 0:F.key)==="Tab"),D=P[0],U=P[P.length-1];typeof D!="string"&&typeof U!="string"&&(B?U.focus():D.focus())}else x.focus()};c.addEventListener("focusin",k),c.addEventListener("keydown",h,!0);const I=setInterval(()=>{c.activeElement&&c.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(I),c.removeEventListener("focusin",k),c.removeEventListener("keydown",h,!0)}},[o,n,s,i,a,r]);const v=c=>{b.current===null&&(b.current=c.relatedTarget),m.current=!0,E.current=c.target;const h=t.props.onFocus;h&&h(c)},y=c=>{b.current===null&&(b.current=c.relatedTarget),m.current=!0};return M.jsxs(l.Fragment,{children:[M.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:g,"data-testid":"sentinelStart"}),l.cloneElement(t,{ref:N,onFocus:v}),M.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:T,"data-testid":"sentinelEnd"})]})}function Ae(e){return oe("MuiBackdrop",e)}re("MuiBackdrop",["root","invisible"]);const Oe=e=>{const{classes:t,invisible:o}=e;return se({root:["root",o&&"invisible"]},Ae,t)},Be=G("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),De=l.forwardRef(function(t,o){const n=ae({props:t,name:"MuiBackdrop"}),{children:s,className:r,component:i="div",invisible:a=!1,open:p,components:g={},componentsProps:T={},slotProps:b={},slots:E={},TransitionComponent:m,transitionDuration:u,...N}=n,R={...n,component:i,invisible:a},v=Oe(R),y={transition:m,root:g.Root,...E},c={...T,...b},h={slots:y,slotProps:c},[k,I]=H("root",{elementType:Be,externalForwardedProps:h,className:q(v.root,r),ownerState:R}),[x,P]=H("transition",{elementType:Ee,externalForwardedProps:h,ownerState:R});return M.jsx(x,{in:p,timeout:u,...N,...P,children:M.jsx(k,{"aria-hidden":!0,...I,classes:v,ref:o,children:s})})});function Le(e){return typeof e=="function"?e():e}function je(e){return e?e.props.hasOwnProperty("in"):!1}const ne=()=>{},$=new Pe;function Ue(e){const{container:t,disableEscapeKeyDown:o=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:i,children:a,onClose:p,open:g,rootRef:T}=e,b=l.useRef({}),E=l.useRef(null),m=l.useRef(null),u=ie(m,T),[N,R]=l.useState(!g),v=je(a);let y=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(y=!1);const c=()=>O(E.current),h=()=>(b.current.modalRef=m.current,b.current.mount=E.current,b.current),k=()=>{$.mount(h(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},I=Z(()=>{const d=Le(t)||c().body;$.add(h(),d),m.current&&k()}),x=()=>$.isTopModal(h()),P=Z(d=>{E.current=d,d&&(g&&x()?k():m.current&&j(m.current,y))}),S=l.useCallback(()=>{$.remove(h(),y)},[y]);l.useEffect(()=>()=>{S()},[S]),l.useEffect(()=>{g?I():(!v||!s)&&S()},[g,S,v,s,I]);const F=d=>f=>{var C;(C=d.onKeyDown)==null||C.call(d,f),!(f.key!=="Escape"||f.which===229||!x())&&(o||(f.stopPropagation(),p&&p(f,"escapeKeyDown")))},B=d=>f=>{var C;(C=d.onClick)==null||C.call(d,f),f.target===f.currentTarget&&p&&p(f,"backdropClick")};return{getRootProps:(d={})=>{const f=he(e);delete f.onTransitionEnter,delete f.onTransitionExited;const C={...f,...d};return{role:"presentation",...C,onKeyDown:F(C),ref:u}},getBackdropProps:(d={})=>{const f=d;return{"aria-hidden":!0,...f,onClick:B(f),open:g}},getTransitionProps:()=>{const d=()=>{R(!1),r&&r()},f=()=>{R(!0),i&&i(),s&&S()};return{onEnter:_(d,(a==null?void 0:a.props.onEnter)??ne),onExited:_(f,(a==null?void 0:a.props.onExited)??ne)}},rootRef:u,portalRef:P,isTopModal:x,exited:N,hasTransition:v}}function Ke(e){return oe("MuiModal",e)}re("MuiModal",["root","hidden","backdrop"]);const We=e=>{const{open:t,exited:o,classes:n}=e;return se({root:["root",!t&&o&&"hidden"],backdrop:["backdrop"]},Ke,n)},$e=G("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.open&&o.exited&&t.hidden]}})(be(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),ze=G(De,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ot=l.forwardRef(function(t,o){const n=ae({name:"MuiModal",props:t}),{BackdropComponent:s=ze,BackdropProps:r,classes:i,className:a,closeAfterTransition:p=!1,children:g,container:T,component:b,components:E={},componentsProps:m={},disableAutoFocus:u=!1,disableEnforceFocus:N=!1,disableEscapeKeyDown:R=!1,disablePortal:v=!1,disableRestoreFocus:y=!1,disableScrollLock:c=!1,hideBackdrop:h=!1,keepMounted:k=!1,onBackdropClick:I,onClose:x,onTransitionEnter:P,onTransitionExited:S,open:F,slotProps:B={},slots:D={},theme:U,...V}=n,d={...n,closeAfterTransition:p,disableAutoFocus:u,disableEnforceFocus:N,disableEscapeKeyDown:R,disablePortal:v,disableRestoreFocus:y,disableScrollLock:c,hideBackdrop:h,keepMounted:k},{getRootProps:f,getBackdropProps:C,getTransitionProps:ce,portalRef:le,isTopModal:ue,exited:X,hasTransition:J}=Ue({...d,rootRef:o}),L={...d,exited:X},w=We(L),K={};if(g.props.tabIndex===void 0&&(K.tabIndex="-1"),J){const{onEnter:A,onExited:W}=ce();K.onEnter=A,K.onExited=W}const Q={slots:{root:E.Root,backdrop:E.Backdrop,...D},slotProps:{...m,...B}},[de,fe]=H("root",{ref:o,elementType:$e,externalForwardedProps:{...Q,...V,component:b},getSlotProps:f,ownerState:L,className:q(a,w==null?void 0:w.root,!L.open&&L.exited&&(w==null?void 0:w.hidden))}),[pe,me]=H("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:A=>C({...A,onClick:W=>{I&&I(W),A!=null&&A.onClick&&A.onClick(W)}}),className:q(r==null?void 0:r.className,w==null?void 0:w.backdrop),ownerState:L});return!k&&!F&&(!J||X)?null:M.jsx(ge,{ref:le,container:T,disablePortal:v,children:M.jsxs(de,{...fe,children:[!h&&s?M.jsx(pe,{...me}):null,M.jsx(Fe,{disableEnforceFocus:N,disableAutoFocus:u,disableRestoreFocus:y,isEnabled:ue,open:F,children:l.cloneElement(g,K)})]})})});export{De as B,Fe as F,ot as M,Re as g};
